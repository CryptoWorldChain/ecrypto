

buildscript {
	dependencies { 
		classpath "onight.osgi:zpp-gradle:3.0.0"
	 }
}
version = '3.0.2'

repositories{
	maven{ url "http://dl.bintray.com/ethereum/maven/"}
}
 

project.group='org.brewchain'

apply plugin: 'zippo'

ext {
    slf4jVersion = '1.7.13'
    leveldbVersion = '0.7'
    scastleVersion = '1.54.0.0'
    springVersion = '4.2.0.RELEASE'
    hibernateVersion = '4.3.7.Final'
    junitVersion = '4.11'
}

dependencies {
	//	 testCompile 'junit:junit:4.12'
	compile ("org.fc.zippo:org.fc.zippo.oapi:3.3.0")
	
	// for SHA3 and SECP256K1
    // includeInJar "com.madgag.spongycastle:core:1.54.0.0"
    // includeInJar "com.madgag.spongycastle:prov:1.54.0.0"
    
    // ##################################
	//includeInJar 'org.ethereum:ethereumj-core:1.6.3-RELEASE'
	includeInJar "io.netty:netty-all:4.0.30.Final"
    includeInJar "com.madgag.spongycastle:core:${scastleVersion}" // for SHA3 and SECP256K1
    includeInJar "com.madgag.spongycastle:prov:${scastleVersion}" // for SHA3 and SECP256K1

    includeInJar "org.iq80.leveldb:leveldb:${leveldbVersion}"     // Java API wrapper around native components

    includeInJar "org.ethereum:leveldbjni-all:1.18.3"             // native leveldb components

    includeInJar "org.ethereum:solcJ-all:0.4.8"                   // Solidity includeInJarr win/mac/linux binaries

    includeInJar "com.cedarsoftware:java-util:1.8.0" // for deep equals
    includeInJar "org.javassist:javassist:3.15.0-GA"
    compile "org.slf4j:slf4j-api:${slf4jVersion}"
    // includeInJar "ch.qos.logback:logback-classic:1.1.7"
    compile "ch.qos.logback:logback-classic:1.1.3"
    compile "org.codehaus.jackson:jackson-mapper-asl:1.9.13"
    includeInJar "com.google.code.findbugs:jsr305:3.0.0"
    
    includeInJar 'com.fasterxml.jackson:jackson-parent:2.5'
    includeInJar "com.fasterxml.jackson.core:jackson-databind:2.5.1"
    includeInJar "org.apache.commons:commons-collections4:4.0"
    // includeInJar "org.apache.commons:commons-lang3:3.4"
    compile "org.apache.commons:commons-lang3:3.5"
    compile "commons-codec:commons-codec:1.10"
    
    includeInJar "org.springframework:spring-context:${springVersion}"
    includeInJar "org.springframework:spring-tx:${springVersion}"
    includeInJar "org.springframework:spring-orm:${springVersion}"
    
    includeInJar "com.typesafe:config:1.2.1"
    includeInJar "com.googlecode.concurrent-locks:concurrent-locks:1.0.0"

    includeInJar("com.googlecode.json-simple:json-simple:1.1.1") {
        exclude group: 'junit', module: 'junit'
    }

    // used to hide spring initialization logs messages in samples
    // optional "org.slf4j:jcl-over-slf4j:${slf4jVersion}"

    testCompile "junit:junit:${junitVersion}"
    testCompile "org.springframework:spring-test:${springVersion}"
    testCompile "org.mockito:mockito-core:2.+"
    testCompile "com.github.briandilley.jsonrpc4j:jsonrpc4j:1.1"
    
    // ##################################
	
	includeInJar "org.bouncycastle:bcprov-jdk15on:1.58"
	
	compile 'org.osgi:org.osgi.annotation:6.0.0'
	
}


jar {
	manifest{
		//		attributes( 'Spring-Context': 'applicationContext-common.xml, applicationContext-beans.xml')
		// attributes( 'Import-Ignore':'org.spongycastle,com.madgag.spongycastle,org.ethereum.crypto')
		
		attributes( 'Import-Ignore':'com.fasterxml.jackson,ch.qos.logback,org.spongycastle,org.springframework,io.netty,com.google.common,com.typesafe.config,com.cedarsoftware.util,org.apache.commons.collections4,com.googlecode.concurentlocks,org.fusesource.leveldbjni,org.iq80.leveldb,org.bouncycastle.jcajce.provider.digest' )
		
		//  attributes( 'Import-Ignore':'org.spongycastle,com.madgag.spongycastle')
		attributes( 'provider':'org.brewchain')
	}
}


